
Instructions for pictogram 
--------------------------


The current directory should contain the following files:

README			this file

LIB_pseudomu		FastA library of pseudo mu-binding sequences
LIB_1-49		the first 49 bp of each sequence
LIB_1-25		the first 25 bp of each sequence
LIB_26-49		bases 26 to 49 from each sequence

PhiX174_genome		PhiX174 genome

Makefile		instructions for 'make' command - edit as necessary
pictogram.c		the pictogram source code
info.h			pictogram header file
ps.h			pictogram header file

pictogram.linux		the PC/Linux binary (executable) of pictogram

sample			sample text output
sample.ps		sample Postscript output
sample.smat		sample score matrix output


In the instructions below, '>' represents the shell prompt.
If you are running Linux, just type:

	> cp pictogram.linux pictogram

and you are ready to run pictogram.

On other unix platforms, type:

	> make pictogram

This will compile the pictogram binary, which will appear in the current
directory as a file named 'pictogram'.

Type: 	> ./pictogram

You should see a message like:

usage: ./pictogram infile outfile [-bg fA fC fG fT] [other options]

       infile   : input file containing one seq per line

       outfile  : file for program output

       -bg      : background percent frequencies of A, C, G, T (default: 25,25,25,25)

       -bits    : print information content at each position

       -bitplot : plot information content at each position

       -offset c: start coordinates at 1 + c (default: c=0)

       -ss      : do small sample size correction for info content (default: don't)

       -land    : print PostScript in landscape orientation (default: portrait)


This tells you how to run the program.  
'infile' should be the name of a file containing the sequences to analyze,
with either just one sequence per line like this:

AACGTTTACACT
AACATTCAGGAT
CCATTTCAGGAC
...

or in FastA flatfile format like this:

>seq1
AACGTTTACACT
>seq2
AACATTCAGGAT
>seq3
CCATTTCAGGAC
...


Note that all sequences must be the same length.

For attractive looking output, the sequence length should not be more than 
about 35 bp - if longer, chop into pieces <= 35 bp and display separately.

'outfile' is a stem for the names of the output files: outfile and outfile.ps
The text output is put into outfile.  The postscript output in outfile.ps.

Use '-bg fA fC fG fT' if you want to set 'background' genomic frequencies
other than 25, 25, 25, 25, e.g., '-bg 23 27 27 23' if the genome is 54% C+G.

Use the '-bits' flag if you want to see the information content at each position
printed below each position in the postscript output.

Use the '-bitplot' flag to display a little line graph of the information
content at different positions in the postscript output.

Use '-offset c' to start the numbering at a position other than 1, e.g.,
'offset -3' will number the positions -3, -2, -1, 1, 2, 3, 4 ...

Use '-ss' to perform a small sample size correction.  The observed 'empirical
relative entropy' at a position must exceed the expected relatively entropy by
2 standard deviations in order to be counted if this correction is turned on -
anything less and the bit content is reported as 0.0.

Use '-land' to print the postscript file in 'landscape' orientation.  The default
is portrait.  I suggest using landscape if the sequences are longer than 15 bp or so.

That is about it.

The sample output files were generated by the command:

./pictogram.linux LIB_1-25 sample -bits -ss -land > sample.smat


The 'sample.smat' file contains a 'score matrix' suitable for identifying sites
in a sequence search program.

The 'sample' file contains the count of each base at each position (in the
order A, C, G, T) and some base frequency information (I need to fix the formatting).

The 'sample.ps' file contains the postscript output - you can view it with
ghostview on a Linux machine, pageview on a Sun/Solaris machine or xpsview on
an SGI.  For example:

	> ghostview sample.ps

To get the orientation straightened out, you can also try:

	> ghostview -landscape sample.ps

You can print a postscript file simply by typing:

	> lpr sample.ps

Notice that I added colors (comments appreciated).


Cheers,

Chris


















